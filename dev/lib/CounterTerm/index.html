<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CounterTerm · ElectronLiquid.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://numericaleft.github.io/ElectronLiquid.jl/lib/CounterTerm/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ElectronLiquid.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">SubModules</span><ul><li><a class="tocitem" href="../UEG/">Parameter</a></li><li class="is-active"><a class="tocitem" href>CounterTerm</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">SubModules</a></li><li class="is-active"><a href>CounterTerm</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>CounterTerm</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/master/docs/src/lib/CounterTerm.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="CounterTerm"><a class="docs-heading-anchor" href="#CounterTerm">CounterTerm</a><a id="CounterTerm-1"></a><a class="docs-heading-anchor-permalink" href="#CounterTerm" title="Permalink"></a></h1><p>This module provides the functions to manipulate counterterms.</p><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.chemicalpotential_renormalization-Tuple{Any, Any, Any}" href="#ElectronLiquid.CounterTerm.chemicalpotential_renormalization-Tuple{Any, Any, Any}"><code>ElectronLiquid.CounterTerm.chemicalpotential_renormalization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function chemicalpotential_renormalization(order, data, δμ)

merge different diagrammatic orders with proper chemical potential renormalization

By definition, the chemical potential renormalization is defined as
Σ1 = Σ11
Σ2 = Σ20+Σ11*δμ1
Σ3 = Σ30+Σ11*δμ2+Σ12*δμ1^2+Σ21*δμ1
Σ4 = Σ40+Σ11*δμ3+Σ12*(2*δμ1*δμ2)+Σ13*δμ1^3+Σ21*δμ2+Σ22*δμ1^2+Σ31*δμ1</code></pre><p><strong>Arguments</strong></p><p>order : total order data  : Dict{Order<em>Tuple, Actual</em>Data}, where Order<em>Tuple is a tuple of two integer Tuple{Normal</em>Order+W<em>Order, G</em>Order} δμ    : chemical potential renormalization for each order</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L77-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.getSigma-Tuple{ParaMC}" href="#ElectronLiquid.CounterTerm.getSigma-Tuple{ParaMC}"><code>ElectronLiquid.CounterTerm.getSigma</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function getSigma(para::ParaMC; order=para.order, parafile=parafileName)

read self-energy parameters from the file</code></pre><p><strong>Arguments</strong></p><p>df     : DataFrame paraid : Dictionary of parameter names and values order  : the truncation order</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L351-L360">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.mergeInteraction-Tuple{Any}" href="#ElectronLiquid.CounterTerm.mergeInteraction-Tuple{Any}"><code>ElectronLiquid.CounterTerm.mergeInteraction</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Merge interaction order and the main order (normal<em>order, G</em>order, W<em>order) –&gt; (normal+W</em>order, G_order)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L31-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.renormalization" href="#ElectronLiquid.CounterTerm.renormalization"><code>ElectronLiquid.CounterTerm.renormalization</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function renormalization(order, data, δμ, δz=nothing; nbody=1, zrenorm=true)

First perform the chemical potential renormalization, then perform the z-factor renormalization</code></pre><p><strong>Arguments</strong></p><p>order : total order data  : Dict{Order<em>Tuple, Actual</em>Data}, where Order<em>Tuple is a tuple of two integer Tuple{Normal</em>Order+W<em>Order, G</em>Order} δμ    : chemical potential counterterm δz    : z-factor counterterm</p><p>zrenorm : turn on or off the z-factor renormalization nbody : nbody=1 for the one-body vertex function (self-energy, or Γ3) and nbody=2 for the two-body vertex function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L54-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.sigmaCT" href="#ElectronLiquid.CounterTerm.sigmaCT"><code>ElectronLiquid.CounterTerm.sigmaCT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function sigmaCT(order, μ, sw=Dict(key =&gt; 0.0 for key in keys(μ)); isfock=false)

Derive the chemicalpotential and z-factor counterterm for each order from the self-energy.</code></pre><p><strong>Arguments</strong></p><p>order : total order μ     : ReΣ(kF, w=0),     Dict{Order<em>Tuple, Actual</em>Data}, where Order<em>Tuple is a tuple of two integer Tuple{Normal</em>Order+W<em>Order, G</em>Order}, or three integer Tuple{Normal<em>Order, W</em>Order, G<em>Order} sw    : dImΣ(kF, w=0)/dw, Dict{Order</em>Tuple, Actual<em>Data}, where Order</em>Tuple is a tuple of two integer Tuple{Normal<em>Order+W</em>Order, G<em>Order}, or three integer Tuple{Normal</em>Order, W<em>Order, G</em>Order}</p><p><strong>Return (δzi, δμ, δz)</strong></p><p>The convention is the following: δzi : 1/z = 1+δzi<em>1+δzi</em>2+...  δμ  : chemical<em>potential</em>shift<em>without</em>z<em>renormalization = δμ</em>1+δμ<em>2+... δz  : z = 1+δz</em>1+δz_2+...</p><p><strong>Remark:</strong></p><p>The chemical potential shift is the chemical potential shift without z-renormalization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L200-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ElectronLiquid.CounterTerm.z_renormalization-Tuple{Any, Any, Any, Int64}" href="#ElectronLiquid.CounterTerm.z_renormalization-Tuple{Any, Any, Any, Int64}"><code>ElectronLiquid.CounterTerm.z_renormalization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function z_renormalization(order, data, δz, nbody::Int)

By defintion, z=1+δz1+δz2+...

Then the z-factor renormalization resuffles the power series in the following way:
1. For the one-body vertex function
    DR = z*D ==&gt; (D1+D2+D3+D4+...)*(1+δz1+δz2+δz3+...) = D1 + (D2+D1*δz1) + (D3+D2*δz1+D1*δz2) + (D4+D3*δz1+D2*δz2+D1*δz3) + ...
2. For the two-body vertex function
    DR = z^2*D ==&gt; (D1+D2+D3+D4+...)*(1+δz1+δz2+δz3+...)^2 = D1 + (D2+2*D1*δz1) + (D3+2*D2*δz1+D1*(δz1^2+2*δz2) + (D4+2*D3*δz1+D2*(δz1^2+δz2)+2*D1*(δz1*δz2+δz3)) + ...

Note that the z-factor renormalization doesn&#39;t alter the W-order and the G-order, therefore, D_{m,n,k} renormalizes just as D_{m}.</code></pre><p><strong>Arguments</strong></p><p>order : total order data  : Vector of data, or Dict{Order<em>Tuple, Actual</em>Data}, where Order<em>Tuple is a tuple of two integer Tuple{Normal</em>Order+W<em>Order, G</em>Order} or three integer Tuple{Normal<em>Order, G</em>Order, W_Order} δz    : z-factor renormalization for each order nbody : nbody=1 for the one-body vertex function (self-energy, or Γ3) and nbody=2 for the two-body vertex function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericaleft/ElectronLiquid.jl/blob/70a6b177ebaf1e0e6b4de9edba7ab69cee5b0308/src/common/counterterm.jl#L140-L158">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../UEG/">« Parameter</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 30 June 2023 15:46">Friday 30 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
